<div
	id="group-form" data-action="{{ path('superproductgroups_handle_form_submit') }}">

	<!-- Add hidden input for current product ID -->
	<input type="hidden" id="current-product-id" name="id_super_product" value="{{ super_product.id }}">

	{{ form_start(form) }}
	{{ form_errors(form) }}

	<div id="group-rows" data-prototype="{{ form_widget(form.groups.vars.prototype)|e('html_attr') }}">
		{% for group in form.groups %}
			<div class="group-entry mb-3">
				<div class="row align-items-center">
					{{ form_widget(group.group_id) }}
					{# Render hidden group_id field #}
					<div class="col-md-3">
						{{ form_widget(group.group_name) }}
					</div>
					<div class="col-md-4">
						{{ form_widget(group.group_image) }}
					</div>
					<div class="col-md-4">
						{{ form_widget(group.group_products) }}
					</div>

					<div class="col-md-1">
						<button type="button" class="btn btn-danger remove-row">Remove</button>
					</div>
				</div>
			</div>
		{% endfor %}
	</div>

	<div class="row mt-4">
		<div class="col text-start">
			<button type="button" id="add-row" class="btn btn-secondary">Add Row</button>
		</div>
		<div class="col text-end">
			<button type="submit" id="save-form" class="btn btn-primary">Save</button>
		</div>
	</div>

	{{ form_end(form) }}

	<div id="message-container" class="mt-3"></div>
</div>
